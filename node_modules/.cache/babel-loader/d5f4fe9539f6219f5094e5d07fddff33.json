{"ast":null,"code":"//导入共通组件\nimport Footer from '../components/Footer.vue';\nimport axios from 'axios';\nexport default {\n  name: 'IndexItem',\n\n  data() {\n    return {\n      keywords: \"\",\n      businessArr: []\n    };\n  },\n\n  created() {\n    this.user = this.$getSessionStorage('user'); //根据orderTypeId查询商家信息\n\n    axios.post('BusinessController/listBusinessDefault', this.$qs.stringify({\n      longitude: 123.4,\n      latitude: 41.7\n    })).then(response => {\n      this.businessArr = response.data;\n      console.log(response.data);\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n\n  mounted() {\n    document.onscroll = () => {\n      //获取滚动条位置\n      let s1 = document.documentElement.scrollTop;\n      let s2 = document.body.scrollTop;\n      let scroll = s1 == 0 ? s2 : s1; //获取视口宽度\n\n      let width = document.documentElement.clientWidth; //获取顶部固定块\n\n      let search = this.$refs.fixedBox; //判断滚动条超过视口宽度的12%时，搜索块变固定定位\n\n      if (scroll > width * 0.12) {\n        search.style.position = 'fixed';\n        search.style.left = '0';\n        search.style.top = '0';\n      } else {\n        search.style.position = 'static';\n      }\n    };\n  },\n\n  destroyed() {\n    //当切换到其他组件时，就不需要document滚动条事件，所以将此事件去掉\n    document.onscroll = null;\n  },\n\n  components: {\n    Footer\n  },\n  methods: {\n    search() {\n      axios.post('BusinessController/listBusinessDefault', this.$qs.stringify({\n        keywords: this.keywords\n      })).then(response => {\n        this.businessArr = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    mutisql() {\n      axios.post('BusinessController/listBusinessDefault', this.$qs.stringify({\n        longitude: 123.4,\n        latitude: 41.7\n      })).then(response => {\n        this.businessArr = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    distancesql() {\n      axios.post('BusinessController/listBusinessByDistance', this.$qs.stringify({\n        longitude: 123.4,\n        latitude: 41.7\n      })).then(response => {\n        this.businessArr = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    mailsql() {\n      axios.post('BusinessController/listBusinessBySales', this.$qs.stringify({\n        longitude: 123.4,\n        latitude: 41.7\n      })).then(response => {\n        this.businessArr = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    toBusinessInfo(businessId) {\n      this.$router.push({\n        path: '/businessInfo',\n        query: {\n          businessId: businessId,\n          fromRouter: \"index\"\n        }\n      });\n    },\n\n    toBusinessList(orderTypeId) {\n      this.$router.push({\n        path: '/businessList',\n        query: {\n          orderTypeId: orderTypeId\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyJA;AACA;AACA;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACA,4CADA,CAGA;;IACAC;MACAC,gBADA;MAEAC;IAFA,IAGAC,IAHA,CAGAC;MACA;MACAC;IACA,CANA,EAMAC,KANA,CAMAC;MACAF;IACA,CARA;EASA,CArBA;;EAsBAG;IACAC;MACA;MACA;MACA;MACA,+BAJA,CAKA;;MACA,iDANA,CAQA;;MACA,iCATA,CAWA;;MACA;QACAC;QACAA;QACAA;MACA,CAJA,MAIA;QACAA;MACA;IACA,CAnBA;EAoBA,CA3CA;;EA4CAC;IACA;IACAF;EACA,CA/CA;;EAgDAG;IACAC;EADA,CAhDA;EAmDAC;IACAJ;MACAV;QACAH;MADA,IAEAM,IAFA,CAEAC;QACA;MACA,CAJA,EAIAE,KAJA,CAIAC;QACAF;MACA,CANA;IAOA,CATA;;IAUAU;MACAf;QACAC,gBADA;QAEAC;MAFA,IAGAC,IAHA,CAGAC;QACA;MACA,CALA,EAKAE,KALA,CAKAC;QACAF;MACA,CAPA;IAQA,CAnBA;;IAoBAW;MACAhB;QACAC,gBADA;QAEAC;MAFA,IAGAC,IAHA,CAGAC;QACA;MACA,CALA,EAKAE,KALA,CAKAC;QACAF;MACA,CAPA;IAQA,CA7BA;;IA8BAY;MACAjB;QACAC,gBADA;QAEAC;MAFA,IAGAC,IAHA,CAGAC;QACA;MACA,CALA,EAKAE,KALA,CAKAC;QACAF;MACA,CAPA;IAQA,CAvCA;;IAwCAa;MACA;QAAAC;QAAAC;UAAAC;UAAAC;QAAA;MAAA;IACA,CA1CA;;IA2CAC;MACA;QAAAJ;QAAAC;UAAAI;QAAA;MAAA;IACA;;EA7CA;AAnDA","names":["name","data","keywords","businessArr","created","axios","longitude","latitude","then","response","console","catch","error","mounted","document","search","destroyed","components","Footer","methods","mutisql","distancesql","mailsql","toBusinessInfo","path","query","businessId","fromRouter","toBusinessList","orderTypeId"],"sourceRoot":"src/views","sources":["Index.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <!-- header部分 -->\n    <header>\n      <div class=\"icon-location-box\">\n        <div class=\"icon-location\"></div>\n      </div>\n      <div class=\"location-text\">沈阳市规划大厦<i class=\"fa fa-caret-down\"></i></div>\n    </header>\n    <!-- search部分 -->\n    <!--\n    搜索框部分（此块与search-fixed-top块宽度高度一致，用于当\n    search-fixed-top块固定后，挡住下面块不要窜上去）\n    -->\n    <body>\n    <div class=\"search\">\n      <!-- 当滚动条超过上面的定位块时，search-fixed-top块变成固定在顶部。 -->\n      <div class=\"search-fixed-top\" ref=\"fixedBox\">\n        <!-- 搜索框部分中间的白框 -->\n        <Input on-change=\"\" v-model=\"keywords\" placeholder=\"搜索饿了么商家、商品名称\" style=\"width: 90vw\"></Input>\n      </div>\n    </div>\n    <!-- 点餐分类部分 -->\n    \n    <ul class=\"foodtype\">\n      <li @click=\"toBusinessList(1)\">\n        <img src=\"../assets/dcfl01.png\">\n        <p>美食</p>\n      </li>\n      <li @click=\"toBusinessList(2)\">\n        <img src=\"../assets/dcfl02.png\">\n        <p>早餐</p>\n      </li>\n      <li @click=\"toBusinessList(3)\">\n        <img src=\"../assets/dcfl03.png\">\n        <p>跑腿代购</p>\n      </li>\n      <li @click=\"toBusinessList(4)\">\n        <img src=\"../assets/dcfl04.png\">\n        <p>汉堡披萨</p>\n      </li>\n      <li @click=\"toBusinessList(5)\">\n        <img src=\"../assets/dcfl05.png\">\n        <p>甜品饮品</p>\n      </li>\n      <li @click=\"toBusinessList(6)\">\n        <img src=\"../assets/dcfl06.png\">\n        <p>速食简餐</p>\n      </li>\n      <li @click=\"toBusinessList(7)\">\n        <img src=\"../assets/dcfl07.png\">\n        <p>地方小吃</p>\n      </li>\n      <li @click=\"toBusinessList(8)\">\n        <img src=\"../assets/dcfl08.png\">\n        <p>米粉面馆</p>\n      </li>\n      <li @click=\"toBusinessList(9)\">\n        <img src=\"../assets/dcfl09.png\">\n        <p>包子粥铺</p>\n      </li>\n      <li @click=\"toBusinessList(10)\">\n        <img src=\"../assets/dcfl10.png\">\n        <p>炸鸡炸串</p>\n      </li>\n    </ul>\n    <!-- 横幅广告部分（注意：此处有背景图片） -->\n    <div class=\"banner\">\n      <h3>品质套餐</h3>\n      <p>搭配齐全吃得好</p>\n      <a>立即抢购 &gt;</a>\n    </div>\n    <!-- 超级会员部分 -->\n    <div class=\"supermember\">\n      <div class=\"left\">\n        <img src=\"../assets/super_member.png\">\n        <h3>超级会员</h3>\n        <p>&#8226; 每月享超值权益</p>\n      </div>\n      <div class=\"right\">\n        立即开通 &gt;\n      </div>\n    </div>\n    <!-- 推荐商家部分 -->\n    <div class=\"recommend\">\n      <div class=\"recommend-line\"></div>\n      <p>推荐商家</p>\n      <div class=\"recommend-line\"></div>\n    </div>\n    <!-- 推荐方式部分 -->\n    <ul class=\"recommendtype\">\n      <li @click=\"mutisql\">综合排序</li>\n      <li @click=\"distancesql\">距离最近</li>\n      <li @click=\"mailsql\">销量最高</li>\n      <li>筛选<i class=\"fa fa-filter\"></i></li>\n    </ul>\n    <!-- 推荐商家列表部分 -->\n    <ul class=\"business\">\n      <li  v-for=\"item in businessArr\" @click=\"toBusinessInfo(item.businessId)\" :key=\"item.businessId\">\n        <img :src=\"item.businessImg\">\n        <div class=\"business-info\">\n          <div class=\"business-info-h\">\n            <h3> {{item.businessName}} </h3>\n            <div class=\"business-info-like\">&#8226;</div>\n          </div>\n          <div class=\"business-info-star\">\n            <div class=\"business-info-star-left\">\n              <i class=\"fa fa-star\"></i>\n              <i class=\"fa fa-star\"></i>\n              <i class=\"fa fa-star\"></i>\n              <i class=\"fa fa-star\"></i>\n              <i class=\"fa fa-star\"></i>\n              <p>{{item.score}} 月售{{item.orderCount}}单</p>\n            </div>\n            <div class=\"business-info-star-right\">\n              蜂鸟专送\n            </div>\n          </div>\n          <div class=\"business-info-delivery\">\n            <p>&#165;{{item.starPrice}}起送 | &#165;{{item.deliveryPrice}}配送</p>\n            <p>{{item.distance}}km | {{item.deliverytime}}分钟</p>\n          </div>\n          <div class=\"business-info-explain\">\n            <div>{{item.businessExplain}}</div>\n          </div>\n          <div class=\"business-info-promotion\">\n            <div class=\"business-info-promotion-left\">\n              <div class=\"business-info-promotion-left-incon\">新</div>\n              <p>饿了么新用户首单立减9元</p>\n            </div>\n            <div class=\"business-info-promotion-right\">\n              <p>2个活动</p>\n              <i class=\"fa fa-caret-down\"></i>\n            </div>\n          </div>\n          <div class=\"business-info-promotion\">\n            <div class=\"business-info-promotion-left\">\n              <div class=\"business-info-promotion-left-incon\" style=\"background-color: #F1884F;\">特</div>\n              <p>特价商品5元起</p>\n            </div>\n          </div>\n        </div>\n      </li>\n      \n      \n      <li style=\"height:12vw\"></li>\n    </ul>\n    </body>\n    <!-- 底部菜单部分 -->\n    <Footer></Footer>\n  </div>\n</template>\n<script>\n//导入共通组件\nimport Footer from '../components/Footer.vue';\nimport axios from 'axios'\nexport default {\n  name: 'IndexItem',\n  data(){\n    return {\n      keywords:\"\",\n      businessArr:[],\n    }\n  },\n  created() {\n    this.user = this.$getSessionStorage('user');\n\n    //根据orderTypeId查询商家信息\n    axios.post('BusinessController/listBusinessDefault',this.$qs.stringify({\n        longitude:123.4,\n        latitude:41.7\n    })).then(response=>{\n      this.businessArr = response.data;\n      console.log(response.data);\n    }).catch(error=>{\n      console.error(error);\n    });\n  },\n  mounted() {\n    document.onscroll = ()=> {\n      //获取滚动条位置\n      let s1 = document.documentElement.scrollTop;\n      let s2 = document.body.scrollTop;\n      let scroll = s1 == 0 ? s2 : s1;\n      //获取视口宽度\n      let width = document.documentElement.clientWidth;\n\n      //获取顶部固定块\n      let search = this.$refs.fixedBox;\n\n      //判断滚动条超过视口宽度的12%时，搜索块变固定定位\n      if (scroll > width * 0.12) {\n        search.style.position = 'fixed';\n        search.style.left = '0';\n        search.style.top = '0';\n      } else {\n        search.style.position = 'static';\n      }\n    }\n  },\n  destroyed() {\n    //当切换到其他组件时，就不需要document滚动条事件，所以将此事件去掉\n    document.onscroll = null;\n  },\n  components:{\n    Footer\n  },\n  methods:{\n    search(){\n      axios.post('BusinessController/listBusinessDefault',this.$qs.stringify({\n        keywords:this.keywords\n    })).then(response=>{\n      this.businessArr = response.data;\n    }).catch(error=>{\n      console.error(error);\n    });\n    },\n    mutisql(){\n        axios.post('BusinessController/listBusinessDefault',this.$qs.stringify({\n        longitude:123.4,\n        latitude:41.7\n    })).then(response=>{\n      this.businessArr = response.data;\n    }).catch(error=>{\n      console.error(error);\n    });\n    },\n    distancesql(){\n      axios.post('BusinessController/listBusinessByDistance',this.$qs.stringify({\n        longitude:123.4,\n        latitude:41.7\n    })).then(response=>{\n      this.businessArr = response.data;\n    }).catch(error=>{\n      console.error(error);\n    });\n    },\n    mailsql(){\n        axios.post('BusinessController/listBusinessBySales',this.$qs.stringify({\n        longitude:123.4,\n        latitude:41.7\n    })).then(response=>{\n      this.businessArr = response.data;\n    }).catch(error=>{\n      console.error(error);\n    });\n    },\n    toBusinessInfo(businessId){\n      this.$router.push({path:'/businessInfo',query:{businessId:businessId,fromRouter:\"index\"}});\n    },\n    toBusinessList(orderTypeId){\n      this.$router.push({path:'/businessList',query:{orderTypeId:orderTypeId}});\n    }\n  }\n}\n</script>\n<style scoped>\n/****************** 总容器 ******************/\n.wrapper {\n  width: 100%;\n  height: 100%;\n}\n.wrapper body {\n  animation: 2s rowup forwards;\n}\n@keyframes rowup {\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n/****************** header ******************/\n.wrapper header {\n  width: 100%;\n  height: 12.1vw;\n    background: linear-gradient(to right, #0097FF, rgb(177, 201, 247));\n  display: flex;\n  align-items: center;\n}\n.wrapper header .icon-location-box {\n  width: 3.5vw;\n  height: 3.5vw;\n  margin: 0 1vw 0 3vw;\n}\n.wrapper header .location-text {\n  font-size: 4.5vw;\n  font-weight: 700;\n  color: #fff;\n}\n.wrapper header .location-text .fa-caret-down {\n  margin-left: 1vw;\n}\n/****************** search ******************/\n.wrapper .search {\n  width: 100%;\n  height: 13vw;\n\n}\n.wrapper .search .search-fixed-top {\n  width: 100%;\n  height: 13vw;\n    background: linear-gradient(to right, #0097FF, rgb(177, 201, 247));\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.wrapper .search .search-fixed-top .search-box {\n  width: 90%;\n  height: 9vw;\n  background-color: #fff;\n  border-radius: 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 3.5vw;\n  color: #AEAEAE;\n  font-family: \"宋体\";\n  /*此样式是让文本选中状态无效*/\n  user-select: none;\n}\n.wrapper .search .search-fixed-top .search-box .fa-search {\n  margin-right: 1vw;\n}\n/****************** 点餐分类部分 ******************/\n.wrapper .foodtype {\n  width: 100%;\n  height: 48vw;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  /*要使用align-content。10个子元素将自动换行为两行，而且两行作为一个整体垂直居中*/\n  align-content: center;\n}\n.wrapper .foodtype li {\n  /*一共10个子元素，通过计算，子元素宽度在16.7 ~ 20 之间，才能保证换两行*/\n  width: 18vw;\n  height: 20vw;\n  display: flex;\n  /*弹性盒子主轴方向设为column，然后仍然是垂直水平方向居中*/\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n  cursor: pointer;\n}\n.wrapper .foodtype li img {\n  width: 12vw;\n  /*视频讲解时高度设置为12vw，实际上设置为10.3vw更佳*/\n  height: 10.3vw;\n}\n.wrapper .foodtype li p {\n  font-size: 3.2vw;\n  color: #666;\n}\n/****************** 横幅广告部分 ******************/\n.wrapper .banner {\n  /**\n  * 设置容器宽度95%，然后水平居中，这样两边留白;\n  * 这里不能用padding，因为背景图片也会覆盖padding\n  */\n  width: 95%;\n  margin: 0 auto;\n  height: 29vw;\n  /*此三个样式组合，可以保证背景图片充满整个容器*/\n  /*background-image: url(../assets/index_banner.png);*/\n  background-repeat: no-repeat;\n  background-size: cover;\n  box-sizing: border-box;\n  padding: 2vw 6vw;\n}\n.wrapper .banner h3 {\n  font-size: 4.2vw;\n  margin-bottom: 1.2vw;\n}\n.wrapper .banner p {\n  font-size: 3.4vw;\n  color: #666;\n  margin-bottom: 2.4vw;\n}\n.wrapper .banner a {\n  font-size: 3vw;\n  color: #C79060;\n  font-weight: 700;\n}\n/****************** 超级会员部分 ******************/\n.wrapper .supermember {\n  /*这里也设置容器宽度95%，不能用padding，因为背景色也会充满padding*/\n  width: 95%;\n  margin: 0 auto;\n  height: 11.5vw;\n  background-color: #FEEDC1;\n  margin-top: 1.3vw;\n  border-radius: 2px;\n  color: #644F1B;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.wrapper .supermember .left {\n  display: flex;\n  align-items: center;\n  margin-left: 4vw;\n  user-select: none;\n}\n.wrapper .supermember .left img {\n  width: 6vw;\n  height: 6vw;\n  margin-right: 2vw;\n}\n.wrapper .supermember .left h3 {\n  font-size: 4vw;\n  margin-right: 2vw;\n}\n.wrapper .supermember .left p {\n  font-size: 3vw;\n}\n.wrapper .supermember .right {\n  font-size: 3vw;\n  margin-right: 4vw;\n  cursor: pointer;\n}\n/****************** 推荐商家部分 ******************/\n.wrapper .recommend {\n  width: 100%;\n  height: 14vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.wrapper .recommend .recommend-line {\n  width: 6vw;\n  height: 0.2vw;\n  background-color: #888;\n}\n.wrapper .recommend p {\n  font-size: 4vw;\n  margin: 0 4vw;\n}\n/****************** 推荐方式部分 ******************/\n.wrapper .recommendtype {\n  width: 100%;\n  height: 5vw;\n  margin-bottom: 5vw;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n.wrapper .recommendtype li {\n  font-size: 3.5vw;\n  color: #555;\n}\n/****************** 推荐商家列表部分 ******************/\n.wrapper .business {\n  width: 100%;\n  margin-bottom: 14vw;\n  \n}\n.wrapper .business li {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 2.5vw;\n  user-select: none;\n  border-bottom: solid 1px #DDD;\n  display: flex;\n  \n}\n.wrapper .business li img {\n  width: 18vw;\n  height: 18vw;\n}\n.wrapper .business li .business-info {\n  width: 100%;\n  box-sizing: border-box;\n  padding-left: 3vw;\n}\n.wrapper .business li .business-info .business-info-h {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2vw;\n}\n.wrapper .business li .business-info .business-info-h h3 {\n  font-size: 4vw;\n  color: #333;\n}\n.wrapper .business li .business-info .business-info-h .business-info-like {\n  width: 1.6vw;\n  height: 3.4vw;\n  background-color: #666;\n  color: #fff;\n  font-size: 4vw;\n  margin-right: 4vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.wrapper .business li .business-info .business-info-star {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2vw;\n  font-size: 3.1vw;\n}\n.wrapper .business li .business-info .business-info-star .business-info-star-left {\n  display: flex;\n  align-items: center;\n}\n.wrapper .business li .business-info .business-info-star .business-info-star-left .fa-star {\n  color: #FEC80E;\n  margin-right: 0.5vw;\n}\n.wrapper .business li .business-info .business-info-star .business-info-star-left p {\n  color: #666;\n  margin-left: 1vw;\n}\n.wrapper .business li .business-info .business-info-star .business-info-star-right {\n    background: linear-gradient(to right, #0097FF, rgb(177, 201, 247));\n  color: #fff;\n  font-size: 2.4vw;\n  border-radius: 2px;\n  padding: 0 0.6vw;\n}\n.wrapper .business li .business-info .business-info-delivery {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2vw;\n  color: #666;\n  font-size: 3.1vw;\n}\n.wrapper .business li .business-info .business-info-explain {\n  display: flex;\n  align-items: center;\n  margin-bottom: 3vw;\n}\n.wrapper .business li .business-info .business-info-explain div {\n  border: solid 1px #DDD;\n  font-size: 2.8vw;\n  color: #666;\n  border-radius: 3px;\n  padding: 0 0.1vw;\n}\n.wrapper .business li .business-info .business-info-promotion {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.8vw;\n}\n.wrapper .business li .business-info .business-info-promotion .business-info-promotion-left\n{\n  display: flex;\n  align-items: center;\n}\n.wrapper .business li .business-info .business-info-promotion .business-info-promotion-left\n.business-info-promotion-left-incon {\n  width: 4vw;\n  height: 4vw;\n  background-color: #70BC46;\n  border-radius: 3px;\n  font-size: 3vw;\n  color: #fff;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.wrapper .business li .business-info .business-info-promotion .business-info-promotion-left\np {\n  color: #666;\n  font-size: 3vw;\n  margin-left: 2vw;\n}\n.wrapper .business li .business-info .business-info-promotion .business-info-promotion-right\n{\n  display: flex;\n  align-items: center;\n  font-size: 2.5vw;\n  color: #999;\n}\n.wrapper .business li .business-info .business-info-promotion .business-info-promotion-right\np {\n  margin-right: 2vw;\n}\n</style>"]},"metadata":{},"sourceType":"module"}