{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport iView from 'iview';\nimport 'font-awesome/css/font-awesome.min.css';\nimport axios from 'axios';\nimport qs from 'qs';\nimport { getCurDate, setSessionStorage, getSessionStorage, removeSessionStorage, setLocalStorage, getLocalStorage, removeLocalStorage } from './common.js';\nimport 'iview/dist/styles/iview.css';\nVue.use(iView);\nVue.prototype.axios = axios;\nVue.config.productionTip = false; //设置axios的基础url部分\n\naxios.defaults.baseURL = 'http://47.93.190.191:8080/elm/'; //将axios挂载到vue实例上，使用时就可以 this.$axios 这样使用了 Vue.prototype.$axios = axios;\n\nVue.prototype.$qs = qs;\nVue.prototype.$getCurDate = getCurDate;\nVue.prototype.$setSessionStorage = setSessionStorage;\nVue.prototype.$getSessionStorage = getSessionStorage;\nVue.prototype.$removeSessionStorage = removeSessionStorage;\nVue.prototype.$setLocalStorage = setLocalStorage;\nVue.prototype.$getLocalStorage = getLocalStorage;\nVue.prototype.$removeLocalStorage = removeLocalStorage;\nrouter.beforeEach(function (to, from, next) {\n  let user = sessionStorage.getItem('user'); //除了登录、注册、首页、商家列表、商家信息之外，都需要判断是否登录 \n\n  console.log(user);\n\n  if (!(to.path == '/' || to.path == '/index' || to.path == '/businessList' || to.path == '/businessInfo' || to.path == '/login' || to.path == '/register')) {\n    if (user == null || user == {}) {\n      router.push('/login');\n      location.reload();\n    }\n  }\n\n  next();\n});\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","iView","axios","qs","getCurDate","setSessionStorage","getSessionStorage","removeSessionStorage","setLocalStorage","getLocalStorage","removeLocalStorage","use","prototype","config","productionTip","defaults","baseURL","$qs","$getCurDate","$setSessionStorage","$getSessionStorage","$removeSessionStorage","$setLocalStorage","$getLocalStorage","$removeLocalStorage","beforeEach","to","from","next","user","sessionStorage","getItem","console","log","path","push","location","reload","render","h","$mount"],"sources":["/Users/xuaoran/elemVue/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport iView from 'iview';\nimport 'font-awesome/css/font-awesome.min.css'\nimport axios from 'axios'\nimport qs from 'qs'\nimport {\n    getCurDate,\n    setSessionStorage,\n    getSessionStorage,\n    removeSessionStorage,\n    setLocalStorage,\n    getLocalStorage,\n    removeLocalStorage\n} from './common.js'\nimport 'iview/dist/styles/iview.css';\nVue.use(iView);\nVue.prototype.axios = axios;\nVue.config.productionTip = false;\n//设置axios的基础url部分\naxios.defaults.baseURL = 'http://47.93.190.191:8080/elm/'; //将axios挂载到vue实例上，使用时就可以 this.$axios 这样使用了 Vue.prototype.$axios = axios;\nVue.prototype.$qs = qs;\nVue.prototype.$getCurDate = getCurDate;\nVue.prototype.$setSessionStorage = setSessionStorage;\nVue.prototype.$getSessionStorage = getSessionStorage;\nVue.prototype.$removeSessionStorage = removeSessionStorage;\nVue.prototype.$setLocalStorage = setLocalStorage;\nVue.prototype.$getLocalStorage = getLocalStorage;\nVue.prototype.$removeLocalStorage = removeLocalStorage;\nrouter.beforeEach(function(to,from,next){\nlet user = sessionStorage.getItem('user'); //除了登录、注册、首页、商家列表、商家信息之外，都需要判断是否登录 \nconsole.log(user);\nif(!(to.path=='/'||to.path=='/index'||to.path=='/businessList'||to.path=='/businessInfo'||to.path=='/login'||to.path=='/register')){\n        if(user==null||user=={}){\n            router.push('/login');\n            location.reload();\n} }\nnext();\n});\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,uCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SACIC,UADJ,EAEIC,iBAFJ,EAGIC,iBAHJ,EAIIC,oBAJJ,EAKIC,eALJ,EAMIC,eANJ,EAOIC,kBAPJ,QAQO,aARP;AASA,OAAO,6BAAP;AACAZ,GAAG,CAACa,GAAJ,CAAQV,KAAR;AACAH,GAAG,CAACc,SAAJ,CAAcV,KAAd,GAAsBA,KAAtB;AACAJ,GAAG,CAACe,MAAJ,CAAWC,aAAX,GAA2B,KAA3B,C,CACA;;AACAZ,KAAK,CAACa,QAAN,CAAeC,OAAf,GAAyB,gCAAzB,C,CAA2D;;AAC3DlB,GAAG,CAACc,SAAJ,CAAcK,GAAd,GAAoBd,EAApB;AACAL,GAAG,CAACc,SAAJ,CAAcM,WAAd,GAA4Bd,UAA5B;AACAN,GAAG,CAACc,SAAJ,CAAcO,kBAAd,GAAmCd,iBAAnC;AACAP,GAAG,CAACc,SAAJ,CAAcQ,kBAAd,GAAmCd,iBAAnC;AACAR,GAAG,CAACc,SAAJ,CAAcS,qBAAd,GAAsCd,oBAAtC;AACAT,GAAG,CAACc,SAAJ,CAAcU,gBAAd,GAAiCd,eAAjC;AACAV,GAAG,CAACc,SAAJ,CAAcW,gBAAd,GAAiCd,eAAjC;AACAX,GAAG,CAACc,SAAJ,CAAcY,mBAAd,GAAoCd,kBAApC;AACAV,MAAM,CAACyB,UAAP,CAAkB,UAASC,EAAT,EAAYC,IAAZ,EAAiBC,IAAjB,EAAsB;EACxC,IAAIC,IAAI,GAAGC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CADwC,CACG;;EAC3CC,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;EACA,IAAG,EAAEH,EAAE,CAACQ,IAAH,IAAS,GAAT,IAAcR,EAAE,CAACQ,IAAH,IAAS,QAAvB,IAAiCR,EAAE,CAACQ,IAAH,IAAS,eAA1C,IAA2DR,EAAE,CAACQ,IAAH,IAAS,eAApE,IAAqFR,EAAE,CAACQ,IAAH,IAAS,QAA9F,IAAwGR,EAAE,CAACQ,IAAH,IAAS,WAAnH,CAAH,EAAmI;IAC3H,IAAGL,IAAI,IAAE,IAAN,IAAYA,IAAI,IAAE,EAArB,EAAwB;MACpB7B,MAAM,CAACmC,IAAP,CAAY,QAAZ;MACAC,QAAQ,CAACC,MAAT;IACX;EAAE;;EACHT,IAAI;AACH,CATD;AAUA,IAAI9B,GAAJ,CAAQ;EACNE,MADM;EAENsC,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACxC,GAAD;AAFR,CAAR,EAGGyC,MAHH,CAGU,MAHV"},"metadata":{},"sourceType":"module"}