{"ast":null,"code":"import Footer from '../components/Footer.vue';\nimport axios from 'axios';\nexport default {\n  name: 'AddUserAddress',\n\n  data() {\n    return {\n      businessId: this.$route.query.businessId,\n      user: {},\n      deliveryAddress: {\n        contactName: '',\n        contactSex: 1,\n        contactTel: '',\n        address: ''\n      }\n    };\n  },\n\n  created() {\n    this.user = this.$getSessionStorage('user');\n  },\n\n  components: {\n    Footer\n  },\n  methods: {\n    addUserAddress() {\n      if (this.deliveryAddress.contactName == '') {\n        alert('联系人姓名不能为空！');\n        return;\n      }\n\n      if (this.deliveryAddress.contactTel == '') {\n        alert('联系人电话不能为空！');\n        return;\n      }\n\n      if (this.deliveryAddress.address == '') {\n        alert('联系人地址不能为空！');\n        return;\n      }\n\n      this.deliveryAddress.userId = this.user.userId;\n      this.$axios.post('DeliveryAddressController/saveDeliveryAddress', this.$qs.stringify(this.deliveryAddress)).then(response => {\n        if (response.data > 0) {\n          this.$router.push({\n            path: '/userAddress',\n            query: {\n              businessId: this.businessId\n            }\n          });\n        } else {\n          alert('新增地址失败！');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqDA;AACA;AACA;EACAA,sBADA;;EAEAC;IACA;MACAC,wCADA;MAEAC,QAFA;MAGAC;QACAC,eADA;QAEAC,aAFA;QAGAC,cAHA;QAIAC;MAJA;IAHA;EAUA,CAbA;;EAcAC;IACA;EACA,CAhBA;;EAiBAC;IACAC;EADA,CAjBA;EAoBAC;IACAC;MACA;QACAC;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;QACAA;QACA;MACA;;MACA;MACA,kEACA,mBACA,oBADA,CADA,EAGAC,IAHA,CAGAC;QACA;UACA;YAAAC;YAAAC;cAAAhB;YAAA;UAAA;QACA,CAFA,MAEA;UACAY;QACA;MACA,CATA,EASAK,KATA,CASAC;QACAC;MACA,CAXA;IAYA;;EA3BA;AApBA","names":["name","data","businessId","user","deliveryAddress","contactName","contactSex","contactTel","address","created","components","Footer","methods","addUserAddress","alert","then","response","path","query","catch","error","console"],"sourceRoot":"src/views","sources":["AddUserAddress.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <!-- header部分 -->\n    <header>\n      <p>新增送货地址</p>\n    </header>\n    <!-- 表单部分 -->\n    <ul class=\"form-box\">\n      <li>\n        <div class=\"title\">\n          联系人：\n        </div>\n        <div class=\"content\">\n          <input type=\"text\" v-model=\"deliveryAddress.contactName\" placeholder=\"联系人\n姓名\">\n        </div>\n      </li>\n      <li>\n        <div class=\"title\">\n          性别：\n        </div>\n        <div class=\"content\" style=\"font-size: 3vw;\">\n          <input type=\"radio\" v-model=\"deliveryAddress.contactSex\" value=\"1\"\n                 style=\"width:6vw;height:3.2vw;\">男\n          <input type=\"radio\" v-model=\"deliveryAddress.contactSex\" value=\"0\"\n                 style=\"width:6vw;height:3.2vw;\">女\n        </div>\n      </li>\n      <li>\n        <div class=\"title\">\n          电话：\n        </div>\n        <div class=\"content\">\n          <input type=\"tel\" v-model=\"deliveryAddress.contactTel\" placeholder=\"电话\">\n        </div>\n      </li>\n      <li>\n        <div class=\"title\">\n          收货地址：\n        </div>\n        <div class=\"content\">\n          <input type=\"text\" v-model=\"deliveryAddress.address\" placeholder=\"收货地址\">\n        </div>\n      </li>\n    </ul>\n    <div class=\"button-add\">\n      <button @click=\"addUserAddress\">保存</button>\n    </div>\n    <!-- 底部菜单部分 -->\n    <Footer></Footer>\n  </div>\n</template>\n<script>\nimport Footer from '../components/Footer.vue';\nimport axios from 'axios'\nexport default {\n  name: 'AddUserAddress',\n  data() {\n    return {\n      businessId:this.$route.query.businessId,\n      user:{},\n      deliveryAddress:{\n        contactName:'',\n        contactSex:1,\n        contactTel:'',\n        address:''\n      }\n    }\n  },\n  created() {\n    this.user = this.$getSessionStorage('user');\n  },\n  components: {\n    Footer\n  },\n  methods: {\n    addUserAddress(){\n      if(this.deliveryAddress.contactName==''){\n        alert('联系人姓名不能为空！');\n        return;\n      }\n      if(this.deliveryAddress.contactTel==''){\n        alert('联系人电话不能为空！');\n        return;\n      }\n      if(this.deliveryAddress.address==''){\n        alert('联系人地址不能为空！');\n        return;\n      }\n      this.deliveryAddress.userId = this.user.userId;\n      this.$axios.post('DeliveryAddressController/saveDeliveryAddress',\n          this.$qs.stringify(\n              this.deliveryAddress\n          )).then(response => {\n        if(response.data>0){\n          this.$router.push({path:'/userAddress',query: {businessId:this.businessId}});\n        }else{\n          alert('新增地址失败！');\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  }\n}\n</script>\n<style scoped>\n/*************** 总容器 ***************/\n.wrapper {\n  width: 100%;\n  height: 100%;\n}\n/*************** header ***************/\n.wrapper header {\n  width: 100%;\n  height: 12vw;\n  background-color: #0097FF;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  color: #fff;\n  font-size: 4.8vw;\n  position: fixed;\n  left: 0;\n  top: 0;\n  /*保证在最上层*/\n  z-index: 1000;\n}\n/*************** （表单信息） ***************/\n.wrapper .form-box {\n  width: 100%;\n  margin-top: 12vw;\n}\n.wrapper .form-box li {\n  box-sizing: border-box;\n  padding: 4vw 3vw 0vw 3vw;\n  display: flex;\n}\n.wrapper .form-box li .title {\n  flex: 0 0 18vw;\n  font-size: 3vw;\n  font-weight: 700;\n  color: #666;\n}\n.wrapper .form-box li .content {\n  flex: 1;\n  display: flex;\n  align-items: center;\n}\n.wrapper .form-box li .content input {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 4vw;\n  font-size: 3vw;\n}\n.wrapper .button-add {\n  box-sizing: border-box;\n  padding: 4vw 3vw 0vw 3vw;\n}\n.wrapper .button-add button {\n  width: 100%;\n  height: 10vw;\n  font-size: 3.8vw;\n  font-weight: 700;\n  border: none;\n  outline: none;\n  border-radius: 4px;\n  color: #fff;\n  background-color: #38CA73;\n}\n</style>"]},"metadata":{},"sourceType":"module"}