{"ast":null,"code":"import Footer from '../components/Footer.vue';\nimport axios from 'axios';\nexport default {\n  name: 'LoginItem',\n\n  data() {\n    return {\n      userId: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    login() {\n      if (this.userId == '') {\n        alert('手机号码不能为空！');\n        return;\n      }\n\n      if (this.password == '') {\n        alert('密码不能为空！');\n        return;\n      } //登录请求\n\n\n      axios.post('UserController/getUserByIdByPass', this.$qs.stringify({\n        userId: this.userId,\n        password: this.password\n      })).then(response => {\n        let user = response.data;\n\n        if (user == \"\") {\n          alert('用户名或密码不正确！');\n        } else {\n          //sessionstorage有容量限制，为了防止数据溢出，所以不将userImg数据放入sessio中\n          user.userImg = '';\n          this.$setSessionStorage('user', user);\n          this.$setSessionStorage('userId', this.userId);\n          this.$setSessionStorage('password', this.password);\n          this.$router.go(-1);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    register() {\n      this.$router.push({\n        path: 'register'\n      });\n    }\n\n  },\n  components: {\n    Footer\n  }\n};","map":{"version":3,"mappings":"AAoCA;AACA;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC,UADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IACAC;MACA;QACAC;QACA;MACA;;MACA;QACAA;QACA;MACA,CARA,CAUA;;;MACAC;QACAL,mBADA;QAEAC;MAFA,IAGAK,IAHA,CAGAC;QAEA;;QAEA;UAEAH;QACA,CAHA,MAGA;UACA;UACAI;UACA;UACA;UACA;UACA;QACA;MACA,CAlBA,EAkBAC,KAlBA,CAkBAC;QACAC;MACA,CApBA;IAqBA,CAjCA;;IAkCAC;MACA;QAAAC;MAAA;IACA;;EApCA,CARA;EA8CAC;IACAC;EADA;AA9CA","names":["name","data","userId","password","methods","login","alert","axios","then","response","user","catch","error","console","register","path","components","Footer"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <!-- header部分 -->\n    <header>\n      <p>用户登陆</p>\n    </header>\n    <!-- 表单部分 -->\n    <ul class=\"form-box\">\n      <li>\n        <div class=\"title\">\n          手机号码：\n        </div>\n        <div class=\"content\">\n          <input type=\"text\" v-model=\"userId\" placeholder=\"手机号码\">\n        </div>\n      </li>\n      <li>\n        <div class=\"title\">\n          密码：\n        </div>\n        <div class=\"content\">\n          <input type=\"password\" v-model=\"password\" placeholder=\"密码\">\n        </div>\n      </li>\n    </ul>\n    <div class=\"button-login\">\n      <button @click=\"login\">登陆</button>\n    </div>\n    <div class=\"button-register\">\n      <button @click=\"register\">去注册</button>\n    </div>\n    <!-- 底部菜单部分 -->\n    <Footer></Footer>\n  </div>\n</template>\n<script>\nimport Footer from '../components/Footer.vue';\nimport axios from 'axios'\nexport default{\n  name:'LoginItem',\n  data(){\n    return {\n      userId:'',\n      password:''\n    }\n  },\n  methods:{\n    login(){\n      if(this.userId==''){\n        alert('手机号码不能为空！');\n        return;\n      }\n      if(this.password==''){\n        alert('密码不能为空！');\n        return;\n      }\n\n      //登录请求\n      axios.post('UserController/getUserByIdByPass',this.$qs.stringify({\n        userId:this.userId,\n        password:this.password\n      })).then(response=>{\n       \n        let user = response.data;\n        \n        if(user == \"\"){\n        \n          alert('用户名或密码不正确！');\n        }else{\n          //sessionstorage有容量限制，为了防止数据溢出，所以不将userImg数据放入sessio中\n          user.userImg = '';\n          this.$setSessionStorage('user',user);\n          this.$setSessionStorage('userId',this.userId);\n          this.$setSessionStorage('password',this.password);\n          this.$router.go(-1);\n        }\n      }).catch(error=>{\n        console.error(error);\n      });\n    },\n    register(){\n      this.$router.push({path:'register'});\n    }\n  },\n  components:{\n    Footer\n  }\n}\n</script>\n<style scoped>\n/****************** 总容器 ******************/\n.wrapper {\n  width: 100%;\n  height: 100%;\n}\n/****************** header部分 ******************/\n.wrapper header {\n  width: 100%;\n  height: 12vw;\n  background-color: #0097FF;\n  color: #fff;\n  font-size: 4.8vw;\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n/****************** 表单部分 ******************/\n.wrapper .form-box {\n  width: 100%;\n  margin-top: 12vw;\n}\n.wrapper .form-box li {\n  box-sizing: border-box;\n  padding: 4vw 3vw 0 3vw;\n  display: flex;\n  align-items: center;\n}\n.wrapper .form-box li .title {\n  flex: 0 0 18vw;\n  font-size: 3vw;\n  font-weight: 700;\n  color: #666;\n}\n.wrapper .form-box li .content {\n  flex: 1;\n}\n.wrapper .form-box li .content input {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 4vw;\n  font-size: 3vw;\n}\n.wrapper .button-login {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 4vw 3vw 0 3vw;\n}\n.wrapper .button-login button {\n  width: 100%;\n  height: 10vw;\n  font-size: 3.8vw;\n  font-weight: 700;\n  color: #fff;\n  background-color: #38CA73;\n  border-radius: 4px;\n  border: none;\n  outline: none;\n}\n.wrapper .button-register {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 4vw 3vw 0 3vw;\n}\n.wrapper .button-register button {\n  width: 100%;\n  height: 10vw;\n  font-size: 3.8vw;\n  font-weight: 700;\n  /*与上面登陆按钮不同的只有颜色、背景色、边框不同*/\n  color: #666;\n  background-color: #EEE;\n  border: solid 1px #DDD;\n  border-radius: 4px;\n  border: none;\n  outline: none;\n}\n/****************** 底部菜单部分 ******************/\n.wrapper .footer {\n  width: 100%;\n  height: 14vw;\n  border-top: solid 1px #DDD;\n  background-color: #fff;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n.wrapper .footer li {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #999;\n  user-select: none;\n  cursor: pointer;\n}\n.wrapper .footer li p {\n  font-size: 2.8vw;\n}\n.wrapper .footer li i {\n  font-size: 5vw;\n}\n</style>"]},"metadata":{},"sourceType":"module"}