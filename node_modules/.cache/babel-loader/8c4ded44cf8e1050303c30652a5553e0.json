{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport 'font-awesome/css/font-awesome.min.css';\nimport axios from 'axios';\nimport qs from 'qs';\nimport { getCurDate, setSessionStorage, getSessionStorage, removeSessionStorage, setLocalStorage, getLocalStorage, removeLocalStorage } from './common.js';\nVue.config.productionTip = false; //设置axios的基础url部分\n\naxios.defaults.baseURL = 'http://localhost:8080/elm/'; //将axios挂载到vue实例上，使用时就可以 this.$axios 这样使用了 Vue.prototype.$axios = axios;\n\nVue.prototype.$qs = qs;\nVue.prototype.$getCurDate = getCurDate;\nVue.prototype.$setSessionStorage = setSessionStorage;\nVue.prototype.$getSessionStorage = getSessionStorage;\nVue.prototype.$removeSessionStorage = removeSessionStorage;\nVue.prototype.$setLocalStorage = setLocalStorage;\nVue.prototype.$getLocalStorage = getLocalStorage;\nVue.prototype.$removeLocalStorage = removeLocalStorage;\nrouter.beforeEach(function (to, from, next) {\n  let user = sessionStorage.getItem('user'); //除了登录、注册、首页、商家列表、商家信息之外，都需要判断是否登录 \n\n  if (!(to.path == '/' || to.path == '/index' || to.path == '/businessList' || to.path == '/businessInfo' || to.path == '/login' || to.path == '/register')) {\n    if (user == null) {\n      router.push('/login');\n      location.reload();\n    }\n  }\n\n  next();\n});\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","axios","qs","getCurDate","setSessionStorage","getSessionStorage","removeSessionStorage","setLocalStorage","getLocalStorage","removeLocalStorage","config","productionTip","defaults","baseURL","prototype","$qs","$getCurDate","$setSessionStorage","$getSessionStorage","$removeSessionStorage","$setLocalStorage","$getLocalStorage","$removeLocalStorage","beforeEach","to","from","next","user","sessionStorage","getItem","path","push","location","reload","render","h","$mount"],"sources":["/Users/xuaoran/elemVue/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport 'font-awesome/css/font-awesome.min.css'\nimport axios from 'axios'\nimport qs from 'qs'\nimport {\n    getCurDate,\n    setSessionStorage,\n    getSessionStorage,\n    removeSessionStorage,\n    setLocalStorage,\n    getLocalStorage,\n    removeLocalStorage\n} from './common.js'\nVue.config.productionTip = false\n//设置axios的基础url部分\naxios.defaults.baseURL = 'http://localhost:8080/elm/'; //将axios挂载到vue实例上，使用时就可以 this.$axios 这样使用了 Vue.prototype.$axios = axios;\nVue.prototype.$qs = qs;\nVue.prototype.$getCurDate = getCurDate;\nVue.prototype.$setSessionStorage = setSessionStorage;\nVue.prototype.$getSessionStorage = getSessionStorage;\nVue.prototype.$removeSessionStorage = removeSessionStorage;\nVue.prototype.$setLocalStorage = setLocalStorage;\nVue.prototype.$getLocalStorage = getLocalStorage;\nVue.prototype.$removeLocalStorage = removeLocalStorage;\nrouter.beforeEach(function(to,from,next){\nlet user = sessionStorage.getItem('user'); //除了登录、注册、首页、商家列表、商家信息之外，都需要判断是否登录 \nif(!(to.path=='/'||to.path=='/index'||to.path=='/businessList'||to.path=='/businessInfo'||to.path=='/login'||to.path=='/register')){\n        if(user==null){\n            router.push('/login');\n            location.reload();\n} }\nnext();\n});\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,uCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,SACIC,UADJ,EAEIC,iBAFJ,EAGIC,iBAHJ,EAIIC,oBAJJ,EAKIC,eALJ,EAMIC,eANJ,EAOIC,kBAPJ,QAQO,aARP;AASAX,GAAG,CAACY,MAAJ,CAAWC,aAAX,GAA2B,KAA3B,C,CACA;;AACAV,KAAK,CAACW,QAAN,CAAeC,OAAf,GAAyB,4BAAzB,C,CAAuD;;AACvDf,GAAG,CAACgB,SAAJ,CAAcC,GAAd,GAAoBb,EAApB;AACAJ,GAAG,CAACgB,SAAJ,CAAcE,WAAd,GAA4Bb,UAA5B;AACAL,GAAG,CAACgB,SAAJ,CAAcG,kBAAd,GAAmCb,iBAAnC;AACAN,GAAG,CAACgB,SAAJ,CAAcI,kBAAd,GAAmCb,iBAAnC;AACAP,GAAG,CAACgB,SAAJ,CAAcK,qBAAd,GAAsCb,oBAAtC;AACAR,GAAG,CAACgB,SAAJ,CAAcM,gBAAd,GAAiCb,eAAjC;AACAT,GAAG,CAACgB,SAAJ,CAAcO,gBAAd,GAAiCb,eAAjC;AACAV,GAAG,CAACgB,SAAJ,CAAcQ,mBAAd,GAAoCb,kBAApC;AACAT,MAAM,CAACuB,UAAP,CAAkB,UAASC,EAAT,EAAYC,IAAZ,EAAiBC,IAAjB,EAAsB;EACxC,IAAIC,IAAI,GAAGC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAX,CADwC,CACG;;EAC3C,IAAG,EAAEL,EAAE,CAACM,IAAH,IAAS,GAAT,IAAcN,EAAE,CAACM,IAAH,IAAS,QAAvB,IAAiCN,EAAE,CAACM,IAAH,IAAS,eAA1C,IAA2DN,EAAE,CAACM,IAAH,IAAS,eAApE,IAAqFN,EAAE,CAACM,IAAH,IAAS,QAA9F,IAAwGN,EAAE,CAACM,IAAH,IAAS,WAAnH,CAAH,EAAmI;IAC3H,IAAGH,IAAI,IAAE,IAAT,EAAc;MACV3B,MAAM,CAAC+B,IAAP,CAAY,QAAZ;MACAC,QAAQ,CAACC,MAAT;IACX;EAAE;;EACHP,IAAI;AACH,CARD;AASA,IAAI5B,GAAJ,CAAQ;EACNE,MADM;EAENkC,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAACpC,GAAD;AAFR,CAAR,EAGGqC,MAHH,CAGU,MAHV"},"metadata":{},"sourceType":"module"}