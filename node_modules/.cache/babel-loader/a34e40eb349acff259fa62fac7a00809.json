{"ast":null,"code":"import Footer from '../components/Footer.vue';\nimport axios from 'axios';\nexport default {\n  name: 'OrderList',\n\n  data() {\n    return {\n      orderArr: [],\n      user: {}\n    };\n  },\n\n  created() {\n    this.user = this.$getSessionStorage('user');\n    axios.post('OrdersController/listOrdersByUserId', this.$qs.stringify({\n      userId: this.user.userId\n    })).then(response => {\n      let result = response.data;\n\n      for (let orders of result) {\n        orders.isShowDetailet = false;\n      }\n\n      this.orderArr = result;\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n\n  methods: {\n    detailetShow(orders) {\n      orders.isShowDetailet = !orders.isShowDetailet;\n    }\n\n  },\n  components: {\n    Footer\n  }\n};","map":{"version":3,"mappings":"AA6DA;AACA;AACA;EACAA,iBADA;;EAEAC;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CAPA;;EAQAC;IAEA;IAEAC;MACAC;IADA,IAEAC,IAFA,CAEAC;MACA;;MACA;QACAC;MACA;;MACA;IAEA,CATA,EASAC,KATA,CASAC;MACAC;IACA,CAXA;EAYA,CAxBA;;EAyBAC;IACAC;MACAL;IACA;;EAHA,CAzBA;EA8BAM;IACAC;EADA;AA9BA","names":["name","data","orderArr","user","created","axios","userId","then","response","orders","catch","error","console","methods","detailetShow","components","Footer"],"sourceRoot":"src/views","sources":["OrderList.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <!-- header部分 -->\n    <header>\n      <p>我的订单</p>\n    </header>\n    <!-- 订单列表部分 -->\n    <h3>未支付订单信息：</h3>\n    <ul class=\"order\" v-if=\"item.orderState==0\">\n      <li v-for=\"item in orderArr\" :key=\"item.orderId\" >\n        <div class=\"order-info\">\n          <p>\n            {{item.business.businessName}}\n            <i class=\"fa fa-caret-down\" @click=\"detailetShow(item)\"></i>\n          </p>\n          <div class=\"order-info-right\">\n            <p>&#165;{{item.orderTotal}}</p>\n            <div class=\"order-info-right-icon\">去支付</div>\n          </div>\n        </div>\n        <ul class=\"order-detailet\" v-show=\"item.isShowDetailet\">\n          <li v-for=\"odItem in item.list\" :key=\"odItem\">\n            <p>{{odItem.food.foodName}} x {{odItem.quantity}}</p>\n            <p>&#165;{{odItem.food.foodPrice*odItem.quantity}}</p>\n          </li>\n          <li>\n            <p>配送费</p>\n            <p>&#165;{{item.business.deliveryPrice}}</p>\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <h3>已支付订单信息：</h3>\n    <ul class=\"order\" v-if=\"item.orderState==1\">\n      <li v-for=\"item in orderArr\" :key=\"item.orderId\">\n        <div class=\"order-info\">\n          <p>\n            {{item.business.businessName}}\n            <i class=\"fa fa-caret-down\" @click=\"detailetShow(item)\"></i>\n          </p>\n          <div class=\"order-info-right\">\n            <p>&#165;{{item.orderTotal}}</p>\n          </div>\n        </div>\n        <ul class=\"order-detailet\" v-show=\"item.isShowDetailet\">\n          <li v-for=\"odItem in item.list\" :key=\"odItem\">\n            <p>{{odItem.food.foodName}} x {{odItem.quantity}}</p>\n            <p>&#165;{{odItem.food.foodPrice*odItem.quantity}}</p>\n          </li>\n          <li>\n            <p>配送费</p>\n            <p>&#165;{{item.business.deliveryPrice}}</p>\n          </li>\n        </ul>\n      </li>\n    </ul>\n    <!-- 底部菜单部分 -->\n    <Footer></Footer>\n  </div>\n</template>\n<script>\nimport Footer from '../components/Footer.vue';\nimport axios from 'axios'\nexport default{\n  name:'OrderList',\n  data(){\n    return {\n      orderArr:[],\n      user:{}\n    }\n  },\n  created() {\n    \n    this.user = this.$getSessionStorage('user');\n\n    axios.post('OrdersController/listOrdersByUserId',this.$qs.stringify({\n      userId:this.user.userId\n    })).then(response=>{\n      let result = response.data;\n      for(let orders of result){\n        orders.isShowDetailet = false;\n      }\n      this.orderArr = result;\n      \n    }).catch(error=>{\n      console.error(error);\n    });\n  },\n  methods:{\n    detailetShow(orders){\n      orders.isShowDetailet = !orders.isShowDetailet;\n    }\n  },\n  components:{\n    Footer\n  }\n}\n</script>\n<style scoped>\n/****************** 总容器 ******************/\n.wrapper {\n  width: 100%;\n  height: 100%;\n}\n/****************** header部分 ******************/\n.wrapper header {\n  width: 100%;\n  height: 12vw;\n  background-color: #0097FF;\n  color: #fff;\n  font-size: 4.8vw;\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n/****************** 历史订单列表部分 ******************/\n.wrapper h3 {\n  margin-top: 12vw;\n  box-sizing: border-box;\n  padding: 4vw;\n  font-size: 4vw;\n  font-weight: 300;\n  color: #999;\n}\n.wrapper .order {\n  width: 100%;\n}\n.wrapper .order li {\n  width: 100%;\n}\n.wrapper .order li .order-info {\n  box-sizing: border-box;\n  padding: 2vw 4vw;\n  font-size: 4vw;\n  color: #666;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.wrapper .order li .order-info .order-info-right {\n  display: flex;\n}\n.wrapper .order li .order-info .order-info-right .order-info-right-icon {\n  background-color: #f90;\n  color: #fff;\n  border-radius: 3px;\n  margin-left: 2vw;\n  user-select: none;\n  cursor: pointer;\n}\n.wrapper .order li .order-detailet {\n  width: 100%;\n}\n.wrapper .order li .order-detailet li {\n  width: 100%;\n  box-sizing: border-box;\n  padding: 1vw 4vw;\n  color: #666;\n  font-size: 3vw;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n</style>"]},"metadata":{},"sourceType":"module"}